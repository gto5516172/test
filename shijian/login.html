<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />	
<title>管理后台登录</title>

<link rel="stylesheet" type="text/css" href="style.css" />
<link href="icon/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<!--[if IE]>
<link href="icon/css//font-awesome-ie7.min.css" rel="stylesheet" />
<![endif]-->

<script src="http://apps.bdimg.com/libs/jquery/2.1.1/jquery.js" ></script>
<script type="text/javascript">
$(document).ready(function(){
/*登录按钮背景色更改*/
   $(".forgot").hover(function(){
       $(".forgot").css("background-color","#bbbbbb");
   },function(){
   $(".forgot").css("background-color","#2790b0");
 });
 
/*输入框获取焦点时给边框添加样式
$("input").focus(function(){
  $(this).addClass("focus");
  }).blur(function(){  
     $(this).removeClass("focus"); 
  });*/
});
</script>

</head>

<body>

   <div class="login">
   <h2>EC-Product Data Management</h2>
   <h3>跨境电商管理平台</h3>
   
   <div class="login-top">
   <h1>管理员登录</h1>
   <form name="form1" id="login-form" class="myform" method="post" action="login.asp" >
   <fieldset>
     <label class="clearfix">
        <span class="input-icon"><input name="username"  id="username" type="text"  placeholder="用户名" class="form-control" autocomplete="on" datatype="*6-20" tip="用户名不能为空！" /></span>
        <i class="icon fa fa-user"></i>     </label>
     
     <label class="clearfix">
        <span class="input-icon"><input name="password"  id="password" type="password" class="form-control" placeholder="密码" datatype="*6-16" nullmsg="请输入密码！" autocomplete="off" tip="密码不能为空！"/></span>
        <i class="icon fa fa-lock"></i>   </label>
     
     <label class="clearfix">
        <span class="input-icon"><input type="text" placeholder="验证码" class="form-control2" /></span>     </label>
   <div class="space" style="clear:both;"></div> 
   <div class="forgot" >
       <span type="button"  id="login-btn">
              <i class="iconkey fa fa-key"></i>
              <span>登&nbsp;录</span>        </span>    </div>
   </fieldset>
   </form>
  </div>
  <div class="login-bottom"></div>
  </div>
  <div class="copyright">
   <p>Copyright©2015.跨境电商管理平台 All rights reserved.</p>
</div>
<!--jQuery表单验证方法-->
<!--首先引入js库-->
<script src="validate/js/jquery.validate.min.js"></script>
<script src="validate/js/jquery.validate.extend.js"></script>
<script type="text/javascript">
      $(function(){
 
		 	$.validator.addMethod("stringCheck", function(value, element){
             return this.optional(element) ||/^[u0391-uFFE5w]+$/.test("value");
               }, "用户名必须！英文字母和数字");

		   $("#login-form").validate({			  
			  rules:{
			      username:{
				    required:true,
				    minlength:6,
					maxlength:16,
					stringCheck:true
				  },
				  password:{
				    required:true,
					minlength:4
				  }
			   },
			   messages:{
			       username:{
				       required:"请输入用户名！",
					   minlength:"用户名至少6个字符",
					   maxlength:"用户名长度不能超过16个字符",
					   stringCheck:"用户名仅限英文字母和数字"
				   },
				   password:{
				       required:"请输入密码！",
					   minlength:"密码长度必须4个字符以上"
				   }
			   }
			});
		 	//提交按钮验证    有问题！！！ 好像验证通过后可以跳转login.asp，但是验证没通过，一样会出现alert，但是没有跳转！why？
			$(".forgot").click(function(){
			  // if(result){
                 $("#login-form").submit();
			//     alert("登录成功");
				// }else{
				// return false;
				// }
			});

        });



<!--原生js表单验证方法-->
     // 要加上这个<div class="forgot" onClick="return sub()">
/* function sub(){
     var result=true;  //返回状态， 提交数据时用到
     var name=document.getElementById("username");
	   var pass=document.getElementById("password");
<!--首先测试账号密码不能为空-->
      if (trim(name.value)==null||trim(name.value)==""){
	   alert("请输入用户名");
	   name.focus()
	   result = false;
	  }
	  else if (trim(pass.value)==null||trim(pass.value)==""){
	    alert("请输入密码");
		pass.focus()
		result = false;
	  }

<!--再限制输入框长度--> 
     else if (name.value.length>20||name.value.length<3){
	    alert("用户名需在3-20字符之间");
		name.focus();
	   result = false;
		}
	 else if (pass.value.length<4){
	    alert("密码长度必须4位数以上");
		pass.focus();
	   result = false;
		}
<!--账户名不能包含非法字符，仅限字母，数字，下划线-->
      var charname1=name.value.toLowerCase();
	  for(i=0;i<name.value.length;i++){
	  var charname=charname1.charAt(i);     //如何跳转：假如字符里有多个非法字符，如何只显示一个弹框？ 解决：下面加个break，跳出循环就好了！
        if(!(charname>=0 && charname<=9)&&(!(charname>='a'&& charname<='z'))&&(charname!='_')){
	    alert("用户名不能包含非法字符，仅限字母、数字和下划线");
		name.focus;
		result = false;
		break;
	    }
      }
	  //函数返回了ture，但是为什么action没跳转？？    PS:这里要提交表单的id，而不是按钮id，按钮只是起到一个点击的效果，来提交表单！！
	  if (result){
	    $("#login-form").submit();
		alert("登录成功");
	  }
	  //删除字符前后的空白
	  function trim(str){
	   return str.replace(/(^\s*)|(\s*$)/g, "");
	  }
  }
  
   */
</script>


</body>

</html>